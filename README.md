# Исходный код сервиса визуализации опросов по Кировской области с помощью интерактивных карт

## Демо:

https://regionmap.herokuapp.com/

## Используемые технологии:

- HTML
- CSS
- JavaScript
- [VueJS 2](https://v2.vuejs.org/)
- Python
- [Flask Framework](https://flask.palletsprojects.com/en/2.1.x/)
- Pandas
- GeoPandas

## Установка:

### Фронтенд:
Исходные файлы фронтенда находятся в папке
> frontend

### Команды для настройки фронтенда

``` bash
# установка зависимостей
npm install

# необходимо написать домен сервера config/dev.env.js and config/prod.env.js
SERVER_URL: '"you_url"'

# запуск приложения с "горячей" перезагрузкой на localhost:8080
npm run dev

# сборка фронтенда с минификацией
npm run build

# собранный фронтенд будет находится в папке dist в корне проекта

# сборка фронтенда с отчетом
npm run build --report
```

Если появились проблемы, возможно помогут эти ссылки:
 [раз](http://vuejs-templates.github.io/webpack/) и [два](http://vuejs.github.io/vue-loader).

### Сервер

Исходные файлы фронтенда находятся в папке в корне, а конфигурация и классы для работы с данными в папке
> core

### Команды для настройки сервера

``` bash
# установка зависимостей
pip install -r requirements.txt

# запуск сервера
flask run
```

В папке uploads можно найти примеры электронных таблиц (.xslx) до и после обработки в качестве примеров. Обработка необходима и без нее работать не будет.

Правила форматирования:

- убираем служебную информацию
- переносим всю таблицу к началу
- приводим заголовок к одной строке строке
- в вопросах с множественным выбором (если есть пункты) с бинарными ответами (Да/Нет или 0/1) приводим к одной строке с помощью разделителя, по умолчанию это " // ", можно поменять в файле models.py
- вопросы, которые нельзя привести к бинарному виду, необходимо разделить на несколько отдельных вопросов, например указывать название вопроса и через знак двоеточия вариант ответа
- объединяем названия городов и районов в одном столбце, а также изменяет названия в соответствии со списком в файле models.py
